function addDraftOrder(e){for(let r=0;r<40;r++){var t=buildElem("TR",void 0,void 0,document.getElementById("table"));buildElem("TH",void 0,String(r+1),t);for(let o=0;o<10;o++){var l=e[o][r],n=getLogoFromTeam(l),a=buildElem("TD",void 0,void 0,t);a.title=l.mascot,a.setAttribute("data-abbr",l.abbr),a.classList.add(getClassFromTeam(l)),buildElem("IMG",void 0,void 0,a).src=n}}var r=buildElem("TR",void 0,void 0,document.getElementById("table"));for(let e=0;e<11;e++)0!=e?buildElem("TH",void 0,String(e),r):buildElem("TH",void 0,void 0,r)}function addAllPlayers(e){var t=document.getElementsByClassName("playersTable");iter=0;var l={qb:[],rb:[],wr:[],te:[],de:[],lb:[],cb:[],s:[],k:[],p:[]};for(let t of e)l[t.pos.toLowerCase()].push(t);for(let e in l){var n=t[iter];let a=l[e];for(let e of a){let t=n.insertRow();t.insertCell().innerHTML=`${e.fName} ${e.lName} <span class="num">#${e.id}</span>`;let l=[JSON.parse(e.statA),JSON.parse(e.statB),JSON.parse(e.statC)];for(let e of l){t.insertCell().textContent=`${e.m} (${e.s})`}}iter++}}function changeTable(e){var t=document.getElementsByClassName("playersTable");for(let e of t)e.style.display="none";t[e].style.display="table";var l=document.getElementsByClassName("playersNav");for(let e of l)e.style.textDecoration="none";l[e].style.textDecoration="underline"}function filter(){var e=document.getElementById("filter").value;for(let t of document.getElementById("table").rows)for(let l of t.cells)null!=l.getAttribute("data-abbr")&&"ALL"!=e?l.getAttribute("data-abbr")==e?l.style.opacity=1:l.style.opacity=.1:"ALL"==e&&(l.style.opacity=1)}function calcQBR(e){var t=e.parentElement,l=["att","comp","yds","td","int"],n={};for(let e=0;e<t.children.length-1;e++){let a=t.children[e].value;n[l[e]]=""==a?0:Number(a)}t.lastElementChild.textContent=calcQBRating(n.comp,n.att,n.yds,n.td,n.int)}function calcOTR(e){var t=e.parentElement,l=["plays","td","pts","yds"],n={};for(let e=0;e<t.children.length-1;e++){let a=t.children[e].value;n[l[e]]=""==a?0:Number(a)}t.lastElementChild.textContent=calcOffRating(n.plays,n.td,n.pts,n.yds)}function calcDTR(e){var t=e.parentElement,l=["plays","sacks","td","int","yds","pts"],n={};for(let e=0;e<t.children.length-1;e++){let a=t.children[e].value;n[l[e]]=""==a?0:Number(a)}t.lastElementChild.textContent=calcDefRating(n.plays,n.sacks,n.int,n.td,n.yds,n.pts)}function calcRecep(e){var t=e.parentElement,l=["acc","press","recep","tire","cover"],n={},a=0;for(let e=0;e<t.children.length-1;e++){if("INPUT"!=t.children[e].nodeName)continue;let r=t.children[e].value;n[l[a]]=""==r?0:Number(r),a++}t.lastElementChild.textContent=((n.acc-n.press)*(n.recep-n.tire/50)*n.cover).toFixed(3)}function calcInt(e){var t=e.parentElement,l=["acc","int"],n={},a=0;for(let e=0;e<t.children.length-1;e++){if("INPUT"!=t.children[e].nodeName)continue;let r=t.children[e].value;n[l[a]]=""==r?0:Number(r),a++}t.lastElementChild.textContent=((1-n.acc)*n.int).toFixed(3)}function calcFourth(e){var t=e.parentElement,l=["sec","diff","los"],n={},a=0;for(let e=0;e<t.children.length-1;e++){if("INPUT"!=t.children[e].nodeName)continue;let r=t.children[e].value;n[l[a]]=""==r?0:Number(r),a++}100*n.sec/60+25*n.diff+9*n.los<750?(t.lastElementChild.textContent="Go for it",t.lastElementChild.style.backgroundColor="green"):(t.lastElementChild.textContent="Don't go for it",t.lastElementChild.style.backgroundColor="red")}function calcTime(e){var t=e.parentElement,l=["x","y","r","d"],n={},a=0;for(let e=0;e<t.children.length-1;e++){if("INPUT"!=t.children[e].nodeName)continue;let r=t.children[e].value;n[l[a]]=""==r?0:Number(r),a++}var r=n.x,o=n.y,i=n.r,d=n.d;if(0==r&&0==o||0==d)t.lastElementChild.textContent="NOT";else if(i<=0||d<=0)t.lastElementChild.textContent="NOT";else if(i!=d){var s=Math.pow(i,2)-Math.pow(d,2),c=-2*i*r,m=Math.pow(r,2)+Math.pow(o,2);if(Math.pow(c,2)-4*s*m<0)t.lastElementChild.textContent="NOT";else{var h=-c+Math.sqrt(Math.pow(c,2)-4*s*m),u=-c-Math.sqrt(Math.pow(c,2)-4*s*m),f=2*s;t.lastElementChild.textContent=h/f<0&&u/f<0?"NOT":h/f<u/f?`${(h/f).toFixed(1)} Secs`:`${(u/f).toFixed(1)} Secs`}}else t.lastElementChild.textContent=`${((Math.pow(r,2)+Math.pow(o,2))/(2*i*r)).toFixed(1)} Secs`}function calcRB(e){var t=e.parentElement;"0.7"!=t.children[5].value?(t.children[6].style.display="none",t.children[7].style.display="none",t.children[7].value=1):"none"==t.children[7].style.display&&(t.children[6].style.display="block",t.children[7].style.display="block",t.children[7].value="");var l=["elus","tire","tackle","block"],n={},a=0;for(let e=0;e<t.children.length-1;e++){if("SPAN"==t.children[e].nodeName)continue;let r=t.children[e].value;n[l[a]]=""==r?0:Number(r),a++}t.lastElementChild.textContent=((n.elus+n.tire/100)*n.tackle*n.block).toFixed(3)}ws.onmessage=(e=>{const t=JSON.parse(e.data);"requested"==t.method&&"draftOrder"==t.type?addDraftOrder(t.data):"requested"==t.method&&"players"==t.type&&addAllPlayers(t.data)}),window.onload=(()=>{ws.send(JSON.stringify({method:"request",type:"draftOrder",qual:"round",crit:"ALL"}));ws.send(JSON.stringify({method:"request",type:"players",qual:"ALL"}))});
